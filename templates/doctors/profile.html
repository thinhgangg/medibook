{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>H·ªì s∆° b√°c sƒ© | MediBook</title>
    <link rel="stylesheet" href="{% static 'css/profile.css' %}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
    <script src="{% static 'js/profile.js' %}" defer></script>
</head>
<body class="profile-body">

    <!-- H·ªì s∆° b√°c sƒ© -->
    <main class="profile-wrap">
        <aside class="profile-left">
            <div class="avatar-card">
                <img id="avatarPreview" src="{% static 'img/doctors/doctor1.jpg' %}" alt="·∫¢nh b√°c sƒ©" />
                <button type="button" class="btn btn-outline" id="btnEditProfile">C·∫≠p nh·∫≠t h·ªì s∆°</button>
            </div>
            <ul class="contact-list">
                <li><span>üìß</span><a id="viewEmail" href="mailto:{{ doctor.email }}">{{ doctor.email }}</a></li>
                <li><span>üì±</span><a id="viewPhone" href="tel:{{ doctor.phone }}">{{ doctor.phone }}</a></li>
                <li><span>üìç</span><span id="viewAddress">{{ doctor.address }}</span></li>
            </ul>
        </aside>

        <section class="profile-right">
            <header class="hero">
                <h1 id="viewName">H·ªç v√† t√™n: <span id="viewNameValue">{{ doctor.name }}</span></h1>
                <p class="sub" id="viewTitle">Ch·ª©c v·ª•: <span id="viewTitleValue">{{ doctor.title }}</span> ‚Äì {{ doctor.hospital }}</p>
            </header>

            <section class="card">
                <h2>Gi·ªõi thi·ªáu</h2>
                <p id="viewBio">{{ doctor.bio }}</p>
            </section>

            <section class="grid-2">
                <div class="card">
                    <h3>Chuy√™n m√¥n</h3>
                    <ul id="viewSkills" class="tags">
                        {% for skill in doctor.skills.all %}
                        <li>{{ skill }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="card">
                    <h3>Ng√¥n ng·ªØ</h3>
                    <ul class="kv">
                        <li><span>Ti·∫øng Vi·ªát</span><b>Th√¥ng th·∫°o</b></li>
                        <li><span>English</span><b>Good</b></li>
                    </ul>
                </div>
            </section>

            <!-- Th√™m m·ª•c th√¥ng tin th√™m -->
            <section class="card">
                <h3>Kinh nghi·ªám</h3>
                <ul class="timeline" id="viewExperience">
                    <li><b>2018‚Äìnay</b> B√°c sƒ© Nhi ‚Äì BV Nhi ƒê·ªìng 2</li>
                    <li><b>2015‚Äì2018</b> N·ªôi tr√∫ Nhi ‚Äì ƒêHYD TP.HCM</li>
                </ul>
            </section>
        </section>
    </main>

    <!-- Panel ch·ªânh s·ª≠a h·ªì s∆° -->
    <div class="edit-panel" id="editPanel" hidden>
        <form id="profileForm" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="panel-head">
                <h3>Ch·ªânh s·ª≠a h·ªì s∆°</h3>
                <button type="button" class="icon-btn" id="btnClose">‚úï</button>
            </div>

            <div class="grid-2">
                <label class="form-group">
                    <span>H·ªç & t√™n</span>
                    <input id="inpName" type="text" value="{{ doctor.name }}" required />
                </label>
                <label class="form-group">
                    <span>H·ªçc v·ªã/Ch·ª©c danh & ƒê∆°n v·ªã</span>
                    <input id="inpTitle" type="text" value="{{ doctor.title }}" required />
                </label>
            </div>

            <div class="grid-2">
                <label class="form-group">
                    <span>Email</span>
                    <input id="inpEmail" type="email" value="{{ doctor.email }}" required />
                </label>
                <label class="form-group">
                    <span>ƒêi·ªán tho·∫°i</span>
                    <input id="inpPhone" type="tel" value="{{ doctor.phone }}" />
                </label>
            </div>

            <label class="form-group">
                <span>ƒê·ªãa ch·ªâ</span>
                <input id="inpAddress" type="text" value="{{ doctor.address }}" />
            </label>

            <label class="form-group">
                <span>Gi·ªõi thi·ªáu</span>
                <textarea id="inpBio" rows="4">{{ doctor.bio }}</textarea>
            </label>

            <div class="grid-2">
                <label class="form-group">
                    <span>Chuy√™n m√¥n (ph√¢n t√°ch b·∫±ng d·∫•u ph·∫©y)</span>
                    <input id="inpSkills" type="text" value="{{ doctor.skills }}" />
                </label>
                <label class="form-group">
                    <span>·∫¢nh ƒë·∫°i di·ªán</span>
                    <input id="inpAvatar" type="file" accept="image/*" />
                </label>
            </div>

            <div class="panel-actions">
                <button class="btn btn-primary" type="submit">L∆∞u thay ƒë·ªïi</button>
                <button class="btn btn-ghost" type="button" id="btnCancel">Hu·ª∑</button>
            </div>
        </form>
    </div>
</body>
</html>
